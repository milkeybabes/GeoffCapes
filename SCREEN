	TSCREEN:			LDA #12	JSR &FFEE		JSR S_OFF	; TURN OFF SCREEN	JSR BOX2	DB 0,20,4,5	; TOP LEFT	JSR BOX2	DB 10,20,4,5	; TOP MIDDLE	JSR BOX2	DB 20,20,9,5	; TOP RIGHT	JSR BOX2	DB 0,26,4,5	; BOTTOM LEFT	JSR BOX2	DB 10,26,4,5	; BOTTOM MID/L	JSR BOX2	DB 20,26,4,5	; BOTTOM MID/R	JSR BOX2	DB 30,26,4,5	; BOTTOM RIGHT	JSR BOX2	DB 0,0,19,17	; MAIN BOX	JSR LEVEL	; DISPLAY LEVELS	LDA #0	STA &F8BODYBA:	JSR IMEORMUS	INC &F8	LDA &F8	CMP #5	BNE BODYBA	LDA #20	JSR PARAM	LDA #0	; EFFORT	LDX #41	LDY #230	JSR IMAGE	JMP S_ON	; TURN SCREEN ONIMEORMUS:	PHA	LDA #3	; PARTS OF THE BODIES	JSR PARAM		PLA	BNE SNOT_0	; FOOT	LDA #0	LDX #11	LDY #169	JMP IMEORSNOT_0:	CMP #1	BNE NOT_1	; LEG	LDX #21	LDY #169	JMP IMEORNOT_1:	CMP #2	BNE NOT_2	; ARM	LDX #11	LDY #217	JMP IMEORNOT_2:	CMP #3	BNE NOT_3	; HAND	LDX #21	LDY #217	JMP IMEORNOT_3:	CMP #4	BEQ SIS_4	RTSSIS_4:	LDA #4		; TORSO	LDX #31	LDY #217	JMP IMEORbar_set_up:		LDA #&70	; ENERGY LEVEL	STA store_lo	; ADDRESS LOW	LDA #&75	; ENERGY LEVEL	STA store_hi	; ADDRESS HIGH	LDA number_bars	AND #15	STA &72	; TEMP STORE ONLYplot_more:	LDA #3	; PIXEL TYPE OFFSET	JSR plot_bar	; BIG BIT !!	JSR add_8	; +8 TO ADDRESS	DEC &72	; -1 TO COUNTER	BNE plot_more	; PLOT MORE	LDA #0	; UNTIL COUNTER =0	STA Ztype	RTSadd_8:	CLC	LDA store_lo	ADC #8	STA store_lo	BCC Bno_carry	INC store_hiBno_carry:	RTSpixel:	DB 0	; PIXEL TYPES FOR	DB &88	; ENERGY TO ALLOW	DB &CC	; FOR PIXEL	DB &EE	; MEASURMENT	DB &EFplot_bar:	LDX store_lo	LDY store_hi	STX &70	STY &71	TAX	LDA pixel,X		LDY #6p_more:	STA (&70),Y	DEY	BNE p_more	RTSbar_add:	INC ZTYPE	LDA Ztype	CMP #4	BNE not_larger		LDA number_bars	CMP #15	BCS OVERHERE	INC number_bars	JSR add_8OVERHERE:	LDA #0	STA Ztypenot_larger:	LDA Ztype	JMP plot_barbar_minus:	LDA Ztype	BEQ sub_one	DEC Ztype	LDA Ztype	JMP plot_barsub_one:	SEC	LDA store_lo	SBC #8	STA store_lo	BCS not_dec_hi	DEC store_hinot_dec_hi:	DEC number_bars	LDA #3	STA Ztype	JMP plot_bar BASHINIT:	LDA #4	STA NUMBER_BARS	JSR BAR_SET_UP	RTSBASHES:	DB 0CRAB:	DB 0LKEYP:	DB 0BAR_LEVEL:	DB 0YESBAR:	DB 0NUMBER_BASH:	DB 0BASH1:	LDA #0	STA YESBAR	BEQ BASH2BASH:	LDA #1	STA YESBARBASH2:	LDA NUMBER_BARS	CMP #14	BEQ NOGOODWAQSE:	ASL A	ASL A	CLC	ADC ZTYPE	STA BAR_LEVEL		LDA BASHES		BEQ BASHON	LDA YESBAR	BEQ NOBARPLEASE	JSR BAR_ADDNOBARPLEASE:	INC NUMBER_BASH	LDA #0	STA BASHESBASHON:	JSR JOY	LDA KLEFT	BNE PLEF	LDA KRIGHT	BNE PRINOGOOD:	INC CRAB	LDA CRAB	LDY ELK	CMP BASHT,Y	BNE NOGOOD1	LDA #0	STA CRAB	LDA BAR_LEVEL	BEQ NOGOOD1	LDA NUMBER_BASH	BEQ NO_MII	DEC NUMBER_BASHNO_MII:	LDA YESBAR	BEQ NOGOOD1	JSR BAR_MINUSNOGOOD1:	RTSPLEF:	LDA LKEYP	CMP #1	BEQ NOGOOD	INC NUMBER_BASH	INC BASHES	LDA #1	STA LKEYP	RTSPRI:	LDA LKEYP	CMP #2	BEQ NOGOOD	INC NUMBER_BASH	INC BASHES	LDA #2	STA LKEYP	RTSBASHT: DB 100,30KEYBOARD:	LDA KEYTAB	STA &89	LDY #1KYB1:	STY &88	LDA #129	LDX KEYTAB,Y	LDY #255	JSR &FFF4	CPY #255	BNE KYB2	LDY &88	LDA KLEFT-1,Y	BMI KYB3	LDA #1	STA KLEFT-1,Y	BNE KYB3KYB2:	LDA #0	LDY &88	STA KLEFT-1,YKYB3:	INY	DEC &89	BNE KYB1	RTSKEYTAB:	DB 7,-98,-67,-73,-105,-74	DB -58,-42JOY:	LDA JOYSTICK	BEQ KEYBOARD	JSR KEYBOARD	LDA #&80	LDX #1	JSR &FFF4	LDA #0	CPY #200	ADC #0	STA KLEFT	LDA #0	CPY #50	PHP	PLA	EOR #1	PHA	PLP	LDA #0	ADC #0	STA KRIGHT	LDA #&80	LDX #2	JSR &FFF4	LDA #0	CPY #200	ADC #0		STA KUP	CPY #50	PHP	PLA	EOR #1	PHA	PLP	LDA #0		ADC #0	STA KDOWN		LDA #&80	LDX #0	JSR &FFF4	TXA	AND #3	STA KFIRE	RTS	GET_JOY:	; UNTIL = VALUE	JSR JOY	JSR ADD_KEYS	BEQ GET_JOY	RTSGET_JOY2:	; UNTIL = NO KEYS	JSR JOY	JSR ADD_KEYS	BNE GET_JOY2	RTSADD_KEYS:	CLC	LDA KLEFT	ADC KRIGHT	ADC KUP		ADC KDOWN		ADC KFIRE	RTSEFFORTUD:	LDA LEVEL6	CMP #30	BEQ TRY_SUB	CLC	ADC CUP	STA LEVEL6	LDA LEVEL6	CMP #1	BEQ NO_CHANCETRY_SUB:	SEC	SBC CDOWN	STA LEVEL6	JSR LEVELNO_CHANCE:	RTSTLEV:	DB 0LLEVEL:	DB 0,0,0,0,0,0BITTAB:	DB 0,128,64,32,16,08,04BOXDOWN:	TAY	LDA BITTAB,YLEVDOWN:		; %11111000		LDX #0	STA TLEVLEVLOOP:	LDY CONTEST	ASL TLEV	BCC NCHLEV	LDA LEVEL6	CLC	ADC LLEVEL,X	STA LLEVEL,X	CMP MUSLIDE,Y	BCC NCHLEV	DEC LEVEL1,X	LDA LEVEL1,X	CMP #255	BEQ HEFAINTS	LDA #0	STA LLEVEL,XNCHLEV:	INX	CPX #5	BNE LEVLOOP	JSR LEVEL	LDY #4IMDYING:	LDA LEVEL1,Y	BEQ HEFAINTS	DEY	BPL IMDYING	RTSHEFAINTS:	JSR LEVEL	LDA #2	STA DEAD	RTSMUSLIDE:	DB 40	;CAR	DB 40	;WREST	DB 80	;FAIR	DB 200	;LOG	DB 40	; TUG	DB 40	; BARRELlevel_x_y:	DB 17,199	; 1		DB 27,199	; 2		DB 17,247	; 3		DB 27,247	; 4		DB 37,247	; 5		DB 47,247	; 6LEVEL:	LDY #0	STY LnumberP_OK:	LDA level_x_y,Y	STA LXcord	INY					LDA level_x_y,Y	STA LYcord	TYA	PHA	LDY Lnumber	LDX level1,Y	PLA	TAYL_MORE:	JSR RGSV	JSR LV_XY	LDY #0	LDA LYcord	AND #7	BNE not_0	LDA #&0F	; RRRR	BNE p_storenot_0:	LDA #&0E	; RRRBp_store:	STA (&74),Y	JSR RGLD		DEC LYcord  	DEX	BPL L_MORE	JSR RGSV	DEC LYcord	JSR LV_XY	LDY #0	LDA #0	STA (&74),Y	JSR RGLD	INC Lnumber	INY	CPY #12	BNE P_OK	RTSLV_XY:	LDA LXcord	STA T3	LDA LYcord	STA T1	JSR XY1	; CALCULATE XY IN SCREEN ADDRESS	CLC	LDA LYcord	AND #7	ADC &74	STA &74	RTSTIME_UPDATE:	LDA TV1	BNE NOT_END	LDA #1	STA DEAD	LDA #0	STA TV1	JSR NEW_TIME	LDA #0	STA TIMER_STATUS	RTSNOT_END:	CMP OLTV1	BNE NEW_TIME	RTSNEW_TIME:	STA OLTV1	LDA #0	LDX #35	LDY #176	JSR DIGITS	LDA TV1	AND #&F0	LSR A	LSR A	LSR A	LSR A	LDX #38	LDY #176	JSR DIGITS	LDX #41	LDY #176	LDA TV1	AND #&0FDIGITS:	JSR RGSV	LDA #11	JSR PARAM	JSR RGLD		JMP IMAGEDIGITAL:	LDA #1	STA timer_status	STIME:	LDA #50	STA COUNTER	RTSDIGITS_CHECK:	LDA timer_status	BEQ END_EVENT		DEC COUNTER	LDA COUNTER	BPL END_EVENT	JSR STIME		SED	SEC	LDA TV1	SBC #1	STA TV1	CLDEND_EVENT:	RTS	set_up:	LDA #0	STA TIMER_STATUS	JSR col_set_up	LDA #LOW event	STA &220	LDA #HIGH event	STA &221	LDA #14	LDX #4	JSR &FFF4	LDA ELK	BEQ BBC_V	RTSBBC_V:	SEI	LDA &206	STA old_IRQ	LDA &207	STA old_IRQ+1	LDA #LOW new_IRQ	STA &206	LDA #HIGH new_IRQ	STA &207	CLI 	RTSnew_IRQ:	PHP	PHA	TXA	PHA	TYA	PHA 	LDA &FE6D	AND #%00100000	BEQ IRQ_exit	LDX #0ULA3:	LDA PALTB1,X	STA &FE21	INX	CPX #16	BNE ULA3IRQ_exit:	LDA #32	STA &FE6E	PLA	TAY	PLA	TAX	PLA	PLP	JMP (old_IRQ)timer1_set_up:	LDA &FE6B	AND #%11011111	STA &FE6B	LDA #&A0	STA &FE6E	LDA #50	; BEAM LINE	STA &FE68	LDA #42	STA &FE69	RTSevent:	CMP #4	BNE not_v_sync	PHP	PHA	TXA	PHA	TYA	PHA 	LDA ELK	CMP #1	BEQ ELKKY	LDX #0ULA2:	LDA PALTB,X	STA &FE21	INX	CPX #16 	BNE ULA2	JSR timer1_set_upELKKY:	JSR DIGITS_CHECK	PLA	TAY	PLA	TAX	PLA	PLPnot_v_sync:	RTSold_IRQ:	DS 2PALTB:	DS 4	DS 4	DS 4	DS 4PALTB1:	DS 4	DS 4	DS 4	DS 4PALLETTE: 	; A X Y=(0/16) 	STX &70	STA &71	TAX	LDA PALLTB,X	CLC	ADC &70	EOR #&07	STA &70	TYA	ASL &71	ASL &71	CLC	ADC &71	TAY	LDX #&00PA1:	LDA &70	ADC PAL,X	STA PALTB,Y	INY	INX	CPX #&04	BNE PA1	RTSPALLTB:	DB &00,&20,&80,&A0PAL:	DB &00,&10,&40,&50col_set_up:	LDA #0	LDX #4	LDY #0	;TOP 0-4	JSR PALLETTE	LDA #0	LDX #4	LDY #16	;BOT 0-4	JSR PALLETTE	LDA #1	LDX #0	LDY #0	;TOP 1-0	JSR PALLETTE	LDA #1	LDX #3	LDY #16	;BOT 1-3	JSR PALLETTE	LDA #2	LDX #1	LDY #0	;TOP 2-1	JSR PALLETTE	LDA #2	LDX #5	LDY #16	;BOT 2-5	JSR PALLETTE	LDA #3	LDX #3	LDY #0	;TOP 3-3	JSR PALLETTE	LDA #3	LDX #7	LDY #16	;BOT 3-7	JSR PALLETTE	RTS	EXTEND ':2.R.HIGHSC'